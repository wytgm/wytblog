"use strict";hexo.extend.helper.register("aside_archives",(function(t={}){const{config:e}=this,a=e.archive_dir,{timezone:n}=e,s=toMomentLocale(this.page.lang||this.page.language||e.language);let{format:i}=t;const o=t.type||"monthly",{transform:r}=t,c=!Object.prototype.hasOwnProperty.call(t,"show_count")||t.show_count,l=t.order||-1,h="monthly"===o?(t,e,a,n)=>t===a&&e===n:(t,e,a,n)=>t===a,u=t.limit;let d="";i||(i="monthly"===o?"MMMM YYYY":"YYYY");const m=this.site.posts.sort("date",l);if(!m.length)return d;const p=[];let f=0;m.forEach((t=>{let e=t.date.clone();n&&(e=e.tz(n));const a=e.year(),o=e.month()+1,r=p[f-1];if(r&&h(r.year,r.month,a,o))r.count++;else{s&&(e=e.locale(s));const t=e.format(i);f=p.push({name:t,year:a,month:o,count:1})}}));const v=t=>{let e=`${a}/${t.year}/`;return"monthly"===o&&(t.month<10&&(e+="0"),e+=`${t.month}/`),this.url_for(e)},y=p.length,g=0===u?y:Math.min(y,u);d+=`<div class="item-headline"><i class="anzhiyufont anzhiyu-icon-archive"></i><span>${this._p("aside.card_archives")}</span>`,y>g&&(d+=`<a class="card-more-btn" href="${this.url_for(a)}/" title="${this._p("aside.more_button")}">\n    <i class="anzhiyufont anzhiyu-icon-angle-right"></i></a>`),d+='</div><ul class="card-archive-list">';for(let t=0;t<g;t++){const e=p[t];d+='<li class="card-archive-list-item">',d+=`<a class="card-archive-list-link" href="${v(e)}">`,d+='<span class="card-archive-list-date">',d+=r?r(e.name):e.name,d+="</span>",c&&(d+=`<div class="card-archive-list-count-group"><span class="card-archive-list-count">${e.count}</span><span>ç¯‡</span></div>`),d+="</a>",d+="</li>"}return d+="</ul>",d}));const toMomentLocale=function(t){if(void 0!==t)return t&&"en"!==t&&"default"!==t?t.toLowerCase().replace("_","-"):"en"};