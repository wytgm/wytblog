"use strict";const{version:version}=require("../../package.json"),path=require("path");hexo.extend.filter.register("before_generate",(()=>{const e=hexo.theme.config,{CDN:n}=e,s=hexo.render.renderSync({path:path.join(hexo.theme_dir,"/plugins.yml"),engine:"yaml"}),i={main:{name:"hexo-theme-anzhiyu",file:"js/main.js",version:version},utils:{name:"hexo-theme-anzhiyu",file:"js/utils.js",version:version},translate:{name:"hexo-theme-anzhiyu",file:"js/tw_cn.js",version:version},local_search:{name:"hexo-theme-anzhiyu",file:"js/search/local-search.js",version:version},algolia_js:{name:"hexo-theme-anzhiyu",file:"js/search/algolia.js",version:version}},r=e=>e.replace(/(?<!\.min)\.(js|css)$/g,(e=>".min"+e)),t=(e,s,i="")=>(Object.keys(e).map((t=>{let{name:a,version:o,file:l,other_name:c}=e[t];const m=c||a,h=l.replace(/^[lib|dist]*\/|browser\//g,""),j=r(h);"internal"===i&&(l=`source/${l}`);const p=r(l),d=n.version?`@${o}`:"",u={version:o,name:a,file:l,cdnjs_file:h,min_file:p,min_cdnjs_file:j,cdnjs_name:m},v={local:"internal"===i?h:`/pluginsSrc/${a}/${l}`,jsdelivr:`https://cdn.jsdelivr.net/npm/${a}${d}/${p}`,unpkg:`https://unpkg.com/${a}${d}/${l}`,cdnjs:`https://cdnjs.cloudflare.com/ajax/libs/${m}/${o}/${j}`,elemecdn:`https://npm.elemecdn.com/${a}${d}/${l}`,custom:(n.custom_format||"").replace(/\$\{(.+?)\}/g,((e,n)=>u[n]))};e[t]=v[s]})),"internal"===i&&(e.main_css="css/index.css"),e);e.asset=Object.assign(t(i,n.internal_provider,"internal"),t(s,n.third_party_provider),(e=>{if(e){for(const n in e)null===e[n]&&delete e[n];return e}})(n.option))}));